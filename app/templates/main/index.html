{% extends "base.html" %}

{% block content %}

<div class="container text-center mt-5">

    <h1>Welcome to the Jones HQ Dashboard!</h1>

</div>

<div class="container text-center mt-5 " id="messageBoardPage">
    <h1>ğŸŒˆ Message Board</h1>
    <!-- Message Form -->
    <form method="POST" action="{{ url_for('main.index') }}">
        {{ form.hidden_tag() }}
        {{ form.content(class="form-control", placeholder="ğŸ–ï¸ Write your message here...", rows=3) }}
        <button type="submit" class="btn btn-primary mt-3">ğŸ“ Send</button>
    </form>
    <!-- Display Messages -->
    <div id="messagesDisplay" class="mt-4">
        {% for message in messages %}
            <div class="message">
                <span>ğŸ‘¤</span> <strong>{{ message.user.username }}:</strong>
                {{ message.content }}
                <small class="text-muted">({{ message.timestamp.strftime("%d-%m-%Y @ %H:%M:%S") }})</small>
            </div>
        {% else %}
            <p>No messages yet. Be the first to post!</p>
        {% endfor %}
    </div>
</div>



<div class="pagination mt-4" id="messageBoardPage">
    <!-- Previous Page -->
    {% if pagination.has_prev %}
        <a href="{{ url_for('main.index', page=pagination.prev_num) }}" class="btn btn-sm">â¬…ï¸ Previous</a>
    {% else %}
        <a class="btn btn-sm disabled">â¬…ï¸ Previous</a>
    {% endif %}

    <!-- Current Page Info -->
    <span class="bubble">Page {{ pagination.page }} of {{ pagination.pages }}</span>

    <!-- Page Numbers -->
    {% for p in range(1, pagination.pages + 1) %}
        <a href="{{ url_for('main.index', page=p) }}" class="bubble">{{ p }}</a>
    {% endfor %}

    <!-- Next Page -->
    {% if pagination.has_next %}
        <a href="{{ url_for('main.index', page=pagination.next_num) }}" class="btn btn-sm">â¡ï¸ Next</a>
    {% else %}
        <a class="btn btn-sm disabled">â¡ï¸ Next</a>
    {% endif %}
</div>



{% endblock %}
